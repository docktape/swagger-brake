(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{312:function(e,t,a){"use strict";a.r(t);var r=a(14),s=Object(r.a)({},(function(){var e=this,t=e._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"troubleshooting"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#troubleshooting"}},[e._v("#")]),e._v(" Troubleshooting")]),e._v(" "),t("h2",{attrs:{id:"swagger-2-0-support-and-limitations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#swagger-2-0-support-and-limitations"}},[e._v("#")]),e._v(" Swagger 2.0 Support and Limitations")]),e._v(" "),t("h3",{attrs:{id:"overview"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),t("p",[e._v("swagger-brake supports both "),t("strong",[e._v("Swagger 2.0")]),e._v(" and "),t("strong",[e._v("OpenAPI 3.x")]),e._v(" specifications. When you provide a Swagger 2.0 file, it is automatically detected and converted to OpenAPI 3.0.x format during parsing. This conversion is handled transparently by the underlying swagger-parser library.")]),e._v(" "),t("h3",{attrs:{id:"version-detection"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#version-detection"}},[e._v("#")]),e._v(" Version Detection")]),e._v(" "),t("p",[e._v("swagger-brake correctly identifies Swagger 2.0 specifications by:")]),e._v(" "),t("ul",[t("li",[e._v("Detecting the "),t("code",[e._v('swagger: "2.0"')]),e._v(" field in YAML files")]),e._v(" "),t("li",[e._v("Detecting the "),t("code",[e._v('"swagger": "2.0"')]),e._v(" field in JSON files")]),e._v(" "),t("li",[e._v('Reporting the version as "Swagger 2.0 (converted to OpenAPI 3.0.x)" in logs and reports')])]),e._v(" "),t("h3",{attrs:{id:"what-breaking-changes-are-detected"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#what-breaking-changes-are-detected"}},[e._v("#")]),e._v(" What Breaking Changes Are Detected")]),e._v(" "),t("p",[e._v("The following changes in Swagger 2.0 files are correctly detected as breaking changes:")]),e._v(" "),t("ul",[t("li",[e._v("✅ "),t("strong",[e._v("Schema changes")]),e._v(" - modifications to object definitions, properties, types")]),e._v(" "),t("li",[e._v("✅ "),t("strong",[e._v("Parameter changes")]),e._v(" - added required parameters, deleted parameters, type changes")]),e._v(" "),t("li",[e._v("✅ "),t("strong",[e._v("Response changes")]),e._v(" - deleted responses, schema modifications")]),e._v(" "),t("li",[e._v("✅ "),t("strong",[e._v("Path deletions")]),e._v(" - removed API endpoints")]),e._v(" "),t("li",[e._v("✅ "),t("strong",[e._v("Required field changes")]),e._v(" - making fields required, removing required fields")]),e._v(" "),t("li",[e._v("✅ "),t("strong",[e._v("Enum value deletions")]),e._v(" - removing enum values")]),e._v(" "),t("li",[e._v("✅ "),t("strong",[e._v("Type constraints")]),e._v(" - maxLength, minLength, maximum, minimum, etc.")])]),e._v(" "),t("h3",{attrs:{id:"known-limitations"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#known-limitations"}},[e._v("#")]),e._v(" Known Limitations")]),e._v(" "),t("p",[e._v("Due to the automatic conversion from Swagger 2.0 to OpenAPI 3.0.x, the following Swagger 2.0-specific structural changes "),t("strong",[e._v("cannot be detected")]),e._v(":")]),e._v(" "),t("ul",[t("li",[e._v("❌ "),t("strong",[e._v("basePath changes")]),e._v(" - modifications to the "),t("code",[e._v("basePath")]),e._v(" field (converted to "),t("code",[e._v("servers")]),e._v(" array)")]),e._v(" "),t("li",[e._v("❌ "),t("strong",[e._v("host changes")]),e._v(" - modifications to the "),t("code",[e._v("host")]),e._v(" field (converted to "),t("code",[e._v("servers")]),e._v(" array)")]),e._v(" "),t("li",[e._v("❌ "),t("strong",[e._v("Path-level parameter reorganization")]),e._v(" - Swagger 2.0 allows parameters at path level, which are duplicated to operations during conversion")]),e._v(" "),t("li",[e._v("❌ "),t("strong",[e._v("produces/consumes simplifications")]),e._v(" - These are converted to more verbose "),t("code",[e._v("content")]),e._v(" objects in v3")])]),e._v(" "),t("p",[t("strong",[e._v("Important")]),e._v(": While these structural changes aren't detected, the "),t("strong",[e._v("semantic meaning")]),e._v(" of your API contract is preserved. All functional breaking changes (schema modifications, parameter changes, endpoint deletions) are properly detected.")]),e._v(" "),t("h3",{attrs:{id:"example-usage"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#example-usage"}},[e._v("#")]),e._v(" Example Usage")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# Works with both Swagger 2.0 and OpenAPI 3.x files")]),e._v("\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" swagger-brake.jar --old-api"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("swagger-v2.yaml --new-api"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("swagger-v2-updated.yaml\nLoading old API from swagger-v2.yaml\nSuccessfully loaded APIs\nDetected Swagger "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("2.0")]),e._v(" specification, auto-converted to OpenAPI "),t("span",{pre:!0,attrs:{class:"token number"}},[e._v("3.0")]),e._v(".x\nStarting the check "),t("span",{pre:!0,attrs:{class:"token keyword"}},[e._v("for")]),e._v(" breaking API changes\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("..")]),e._v(".\n")])])]),t("h3",{attrs:{id:"technical-details"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#technical-details"}},[e._v("#")]),e._v(" Technical Details")]),e._v(" "),t("p",[e._v("The conversion process:")]),e._v(" "),t("ol",[t("li",[e._v("swagger-brake detects Swagger 2.0 by reading the file header")]),e._v(" "),t("li",[e._v("The swagger-parser library automatically converts v2 to OpenAPI 3.0.x format")]),e._v(" "),t("li",[e._v("Breaking change detection runs on the converted OpenAPI 3.0.x models")]),e._v(" "),t("li",[e._v("Version information is preserved and reported correctly")])]),e._v(" "),t("p",[e._v("This approach ensures maximum compatibility while maintaining accurate breaking change detection for the vast majority of use cases.")]),e._v(" "),t("h2",{attrs:{id:"debugging-logging-issues"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#debugging-logging-issues"}},[e._v("#")]),e._v(" Debugging Logging Issues")]),e._v(" "),t("h3",{attrs:{id:"safeswaggerserializer-metrics"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#safeswaggerserializer-metrics"}},[e._v("#")]),e._v(" SafeSwaggerSerializer Metrics")]),e._v(" "),t("p",[e._v("When troubleshooting circular reference issues or understanding how deep object serialization is occurring in logs, you can enable optional metrics logging.")]),e._v(" "),t("p",[t("strong",[e._v("Environment Variable")]),e._v(": "),t("code",[e._v("SWAGGER_BRAKE_ENABLE_METRICS_LOGGING=true")])]),e._v(" "),t("p",[e._v("When enabled, swagger-brake will output metrics showing:")]),e._v(" "),t("ul",[t("li",[e._v("Number of circular references detected during serialization")]),e._v(" "),t("li",[e._v("Maximum depth reached during object serialization")]),e._v(" "),t("li",[e._v("Statistics on how objects are being serialized")])]),e._v(" "),t("p",[e._v("This is particularly useful when:")]),e._v(" "),t("ul",[t("li",[e._v("Debugging StackOverflowError issues with complex schemas")]),e._v(" "),t("li",[e._v("Tuning the "),t("code",[e._v("--max-log-serialization-depth")]),e._v(" parameter (see "),t("RouterLink",{attrs:{to:"/cli/#configuring-log-serialization-depth"}},[e._v("CLI configuration")]),e._v(")")],1),e._v(" "),t("li",[e._v("Understanding performance impacts of deeply nested object logging")])]),e._v(" "),t("p",[e._v("Example usage:")]),e._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[e._v("$ "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[e._v("export")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e._v("SWAGGER_BRAKE_ENABLE_METRICS_LOGGING")]),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true\n$ "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("java")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[e._v("-jar")]),e._v(" swagger-brake.jar --old-api"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("swagger.yaml --new-api"),t("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("swagger2.yaml\n")])])]),t("p",[e._v("The metrics will appear in the log output, helping you understand serialization behavior without modifying code.")]),e._v(" "),t("h2",{attrs:{id:"cli-file-reporting-doesn-t-work"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#cli-file-reporting-doesn-t-work"}},[e._v("#")]),e._v(" CLI file reporting doesn't work")]),e._v(" "),t("p",[e._v("If you encounter the following message during an execution")]),e._v(" "),t("div",{staticClass:"language-text extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("No file reporting has been done since output file path is not set\n")])])]),t("p",[e._v("It means you have configured file typed reporting like JSON or HTML but you did not pass the\n"),t("code",[e._v("--output-path")]),e._v(" argument so swagger-brake doesn't know where to store the reports.")]),e._v(" "),t("p",[e._v("Relevant section: "),t("RouterLink",{attrs:{to:"/cli/cli-interface.html#customizing-reporting"}},[e._v("Customizing reporting")])],1)])}),[],!1,null,null,null);t.default=s.exports}}]);